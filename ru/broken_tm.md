---
"$title": Интегрируйте свои рекламные технологии в AMP
order: '3'
formats:
  - Объявления
teaser:
  text: |2-

    Если вы поставщик рекламных технологий и хотите интегрироваться с AMP HTML,
    пожалуйста, ознакомьтесь с приведенными ниже инструкциями.
toc: правда
---

<!--
This file is imported from https://github.com/ampproject/amphtml/blob/master/ads/_integration-guide.md.
Please do not change this file.
If you have found a bug or an issue please
have a look and request a pull request there.
-->

Если вы поставщик рекламных технологий и хотите интегрироваться с AMP HTML, ознакомьтесь с приведенными ниже рекомендациями. Чтобы обеспечить минимальную задержку и качество, следуйте приведенным [здесь](https://github.com/ampproject/amphtml/blob/master/ads/../3p/README.md#ads) инструкциям перед отправкой запроса на перенос в проект с открытым исходным кодом AMP. Общие инструкции о том, как начать работу с AMP, см. На [CONTRIBUTING.md](https://github.com/ampproject/amphtml/blob/master/ads/../CONTRIBUTING.md) .

## Рекламный сервер<a name="ad-server"></a>

*Примеры: DFP, A9.*

В качестве рекламного сервера издатели, которых вы поддерживаете, включают предоставленную вами библиотеку JavaScript и размещают различные «рекламные фрагменты», которые используют библиотеку JavaScript для получения объявлений и их отображения на веб-сайте издателя.

Поскольку AMP не позволяет издателям выполнять произвольный JavaScript, вам нужно будет внести свой вклад в открытый код `amp-ad` мог запрашивать объявления с вашего рекламного сервера.

Например: сервер Amazon A9 можно вызвать, используя следующий синтаксис:

[исходный код: html] &lt;amp-ad width = "300" height = "250" type = "a9" data-aax_size = "300x250" data-aax_pubname = "test123" data-aax_src = "302"

>

[/исходный код]

Обратите внимание, что каждый из следующих за `type` атрибутов зависит от параметров, которые ожидает сервер Amazon A9 для доставки рекламы. [Файл a9.js](https://github.com/ampproject/amphtml/blob/master/ads/./a9.js) показывает, как параметры сопоставляются с вызовом JavaScript, который вызывает сервер A9 через URL-адрес `https://c.amazon-adsystem.com/aax2/assoc.js` Соответствующие параметры, передаваемые рекламным тегом AMP, добавляются к URL-адресу для возврата объявления.

Дополнительные сведения о том, как интегрировать вашу рекламную сеть с AMP, см. В разделе « [Интеграция рекламных сетей в AMP»](https://github.com/ampproject/amphtml/blob/master/ads/README.md) .

## Платформа снабжения (SSP) или Ad Exchange<a name="supply-side-platform-ssp-or-an-ad-exchange"></a>

*Примеры: Rubicon, Criteo OR Appnexus, Ad-Exchange.*

Если вы продаете платформу, которая хочет, чтобы вам звонили прямо с веб-страницы издателя, вам нужно будет следовать тем же инструкциям, что и перечисленные выше, для интеграции с сервером объявлений. Добавление собственного `type` к тегу amp-ad позволяет вам передавать ваш тег непосредственно издателю, чтобы он мог вставлять ваши теги прямо на свои AMP-страницы.

Чаще всего поставщики общих служб работают с издателем, чтобы разместить теги объявлений поставщика общих служб на своем сервере объявлений. В этом случае убедитесь, что все ресурсы, загружаемые вашим скриптом в креатив рекламного сервера, создаются по HTTPS. Существуют некоторые ограничения в отношении некоторых форматов рекламы, таких как расширяемые, поэтому мы рекомендуем вам протестировать наиболее распространенные форматы объявлений с вашими издателями.

## Рекламное агентство<a name="ad-agency"></a>

*Примеры: Essence, Omnicom.*

Работайте со своим издателем, чтобы убедиться, что создаваемые вами креативы совместимы с AMP. Поскольку все объявления отображаются в окнах iframe, размер которых определяется при вызове объявления, убедитесь, что ваше объявление не пытается изменить размер окна iframe.

Убедитесь, что все ресурсы, входящие в креатив, запрашиваются с использованием HTTPS. Некоторые форматы рекламы в настоящее время полностью не поддерживаются, и мы рекомендуем протестировать креативы в среде AMP. Вот некоторые примеры: расширяемые мультимедийные объявления, межстраничные объявления, объявления уровня страницы.

## Видео проигрыватель<a name="video-player"></a>

*Примеры: Brightcove, Ooyala.*

Видеопроигрыватель, который работает на обычных HTML-страницах, не будет работать в AMP, поэтому необходимо создать специальный тег, позволяющий среде выполнения AMP загружать ваш проигрыватель. Brightcove создал специальный [тег amp-brightcove,](https://github.com/ampproject/amphtml/blob/master/extensions/amp-brightcove/amp-brightcove.md) который позволяет воспроизводить мультимедийные файлы и рекламу на AMP-страницах.

Игрока Brightcove можно вызвать следующими способами:

[исходный код: html] &lt;amp-brightcove data-account = "1290862519001" data-video-id = "ref: amp-docs-sample" data-player = "S1Tt8cgaM" layout = "responseive" width = "480" height = «270»

>

[/исходный код]

Инструкции по разработке тега amp, [такого как Brightcove, см. В этом запросе на](https://github.com/ampproject/amphtml/pull/1052) включение.

## Сеть видеорекламы<a name="video-ad-network"></a>

*Примеры: Tremor, Brightroll.*

Если вы работаете в сети видеорекламы, поработайте со своим издателем, чтобы убедиться, что:

- Все видеоресурсы обслуживаются по протоколу HTTPS.
- Видеоплеер издателя поддерживает AMP.

## Платформа управления данными (DMP)<a name="data-management-platform-dmp"></a>

*Примеры: KRUX, Bluekai.*

Узнайте, [как улучшить персонализированную конфигурацию объявлений](https://amp.dev/documentation/components/amp-ad#enhance-incoming-ad-configuration) .

Вы можете использовать аналогичный подход, чтобы обогатить вызов объявления, передав сегменты аудитории, которые вы получаете из файла cookie пользователя, в вызов объявления.

## Провайдер видимости<a name="viewability-provider"></a>

*Примеры: MOAT, Integral Ad Science.*

Поставщики видимости обычно интегрируются с издателями через оболочки объявлений сервера объявлений. В этом случае убедитесь, что оболочка креатива загружает все ресурсы по HTTPS.

Например, для MOAT убедитесь, что `http://js.moatads.com` переключен на `https://z.moatads.com`

Также ознакомьтесь с подходом к использованию [шаблона наблюдателя пересечения](https://github.com/ampproject/amphtml/blob/master/ads/README.md#ad-viewability) .

## Платформа рекомендаций по содержанию<a name="content-recommendation-platform"></a>

*Примеры: Taboola, Outbrain.*

Полезно, если у вас есть часть кода JavaScript, встроенная сегодня на веб-сайт издателя, но этот подход не будет работать на страницах AMP. Если вы хотите порекомендовать контент на AMP-странице, мы рекомендуем вам использовать [расширение `amp-embed`](https://amp.dev/documentation/components/amp-ad) для запроса сведений о контенте. См. [Пример Taboola](https://github.com/ampproject/amphtml/blob/master/ads/taboola.md) .
